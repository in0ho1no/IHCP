<svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" style="background-color: #AFC0B1">
<circle cx="30" cy="30" r="9" fill="white" stroke="black"/>
<text x="49" y="30" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">処理開始</text>
<line x1="30" y1="12" x2="30" y2="21" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="21" y1="12" x2="39" y2="12" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="30" y1="39" x2="30" y2="48" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="21" y1="48" x2="39" y2="48" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="60" cy="60" r="9" fill="white" stroke="black"/>
<text x="79" y="60" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">    必要な情報を揃える</text>
<line x1="60" y1="42" x2="60" y2="51" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="42" y1="42" x2="60" y2="42" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="42" y1="24" x2="42" y2="42" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="90" r="9" fill="white" stroke="black"/>
<text x="109" y="90" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        排他を取得</text>
<line x1="90" y1="72" x2="90" y2="81" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="72" x2="90" y2="72" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="54" x2="72" y2="72" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="120" r="9" fill="white" stroke="black"/>
<text x="98" y="119" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="240">↻</text>
<text x="109" y="120" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">DBから取得</text>
<line x1="90" y1="99" x2="90" y2="111" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="150" r="9" fill="white" stroke="black"/>
<text x="109" y="150" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        排他を解放</text>
<line x1="90" y1="129" x2="90" y2="141" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="90" y1="159" x2="90" y2="168" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="81" y1="168" x2="99" y2="168" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="60" cy="180" r="9" fill="white" stroke="black"/>
<text x="79" y="180" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">    データ更新</text>
<line x1="60" y1="69" x2="60" y2="171" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="210" r="9" fill="white" stroke="black"/>
<text x="109" y="210" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        更新が必要か判定する</text>
<line x1="90" y1="219" x2="90" y2="228" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="81" y1="228" x2="99" y2="228" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="90" y1="192" x2="90" y2="201" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="192" x2="90" y2="192" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="174" x2="72" y2="192" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="60" cy="240" r="9" fill="white" stroke="black"/>
<text x="79" y="240" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">    更新に伴った処理</text>
<line x1="60" y1="189" x2="60" y2="231" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="270" r="9" fill="white" stroke="black"/>
<text x="109" y="270" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        機能Aの実行</text>
<line x1="90" y1="252" x2="90" y2="261" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="252" x2="90" y2="252" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="234" x2="72" y2="252" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="120" cy="300" r="9" fill="white" stroke="black"/>
<text x="139" y="300" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">            機能Aの前処理</text>
<line x1="120" y1="282" x2="120" y2="291" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="282" x2="120" y2="282" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="264" x2="102" y2="282" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="120" cy="330" r="9" fill="white" stroke="black"/>
<text x="139" y="330" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">            機能Aの本処理</text>
<line x1="120" y1="309" x2="120" y2="321" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="150" cy="360" r="9" fill="white" stroke="black"/>
<polygon points="157 360 146 366 146 353" fill="white" stroke="black"/>
<text x="169" y="360" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">条件を満足する</text>
<line x1="150" y1="342" x2="150" y2="351" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="132" y1="342" x2="150" y2="342" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="132" y1="324" x2="132" y2="342" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="180" cy="390" r="9" fill="white" stroke="black"/>
<text x="199" y="390" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">                    \true 条件を満足した</text>
<line x1="180" y1="372" x2="180" y2="381" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="162" y1="372" x2="180" y2="372" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="162" y1="354" x2="162" y2="372" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="210" cy="420" r="9" fill="white" stroke="black"/>
<circle cx="210" cy="420" r="4" fill="white" stroke="black"/>
<text x="229" y="420" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">関数を呼び出す</text>
<line x1="210" y1="429" x2="210" y2="438" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="201" y1="438" x2="219" y2="438" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="210" y1="402" x2="210" y2="411" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="192" y1="402" x2="210" y2="402" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="192" y1="384" x2="192" y2="402" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="180" cy="450" r="9" fill="white" stroke="black"/>
<text x="199" y="450" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">                    \false 条件を満足しなかった</text>
<line x1="180" y1="399" x2="180" y2="441" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="180" y1="459" x2="180" y2="468" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="171" y1="468" x2="189" y2="468" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="210" cy="480" r="9" fill="white" stroke="black"/>
<text x="229" y="480" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">                        何もしない</text>
<line x1="210" y1="489" x2="210" y2="498" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="201" y1="498" x2="219" y2="498" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="210" y1="462" x2="210" y2="471" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="192" y1="462" x2="210" y2="462" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="192" y1="444" x2="192" y2="462" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="150" y1="501" x2="150" y2="510" stroke="black" marker-end="url(#arrowhead)"/>
<polygon points="150 519 142 505 157 505" fill="white" stroke="black"/>
<line x1="141" y1="519" x2="159" y2="519" stroke="black" marker-end="url(#arrowhead)"/>
<text x="148" y="511" text-anchor="left" dominant-baseline="middle" font-size="50%" rotate="0">9</text>
<line x1="150" y1="369" x2="150" y2="501" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="120" cy="540" r="9" fill="white" stroke="black"/>
<text x="139" y="540" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">            機能Aの後処理</text>
<line x1="120" y1="339" x2="120" y2="531" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="120" y1="549" x2="120" y2="558" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="111" y1="558" x2="129" y2="558" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="570" r="9" fill="white" stroke="black"/>
<text x="109" y="570" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        機能Bの実行</text>
<line x1="90" y1="279" x2="90" y2="561" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="90" y1="579" x2="90" y2="588" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="81" y1="588" x2="99" y2="588" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="120" cy="600" r="9" fill="white" stroke="black"/>
<text x="139" y="600" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">            機能Bの前処理</text>
<line x1="120" y1="582" x2="120" y2="591" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="582" x2="120" y2="582" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="564" x2="102" y2="582" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="120" cy="630" r="9" fill="white" stroke="black"/>
<text x="139" y="630" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">            機能Bの後処理</text>
<line x1="120" y1="609" x2="120" y2="621" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="120" y1="651" x2="120" y2="660" stroke="black" marker-end="url(#arrowhead)"/>
<polygon points="120 669 112 655 127 655" fill="white" stroke="black"/>
<line x1="111" y1="669" x2="129" y2="669" stroke="black" marker-end="url(#arrowhead)"/>
<text x="118" y="661" text-anchor="left" dominant-baseline="middle" font-size="50%" rotate="0">2</text>
<line x1="120" y1="639" x2="120" y2="651" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="60" cy="690" r="9" fill="white" stroke="black"/>
<text x="79" y="690" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">    処理終了</text>
<line x1="60" y1="249" x2="60" y2="681" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="60" y1="699" x2="60" y2="708" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="51" y1="708" x2="69" y2="708" stroke="black" marker-end="url(#arrowhead)"/>
<circle cx="90" cy="720" r="9" fill="white" stroke="black"/>
<text x="109" y="720" text-anchor="left" dominant-baseline="middle" font-size="100%" rotate="0">        戻り値を返す</text>
<line x1="90" y1="729" x2="90" y2="738" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="81" y1="738" x2="99" y2="738" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="90" y1="702" x2="90" y2="711" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="702" x2="90" y2="702" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="72" y1="684" x2="72" y2="702" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="120" y1="741" x2="120" y2="750" stroke="black" marker-end="url(#arrowhead)"/>
<polygon points="120 759 112 745 127 745" fill="white" stroke="black"/>
<line x1="111" y1="759" x2="129" y2="759" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="120" y1="732" x2="120" y2="741" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="732" x2="120" y2="732" stroke="black" marker-end="url(#arrowhead)"/>
<line x1="102" y1="714" x2="102" y2="732" stroke="black" marker-end="url(#arrowhead)"/>
</svg>